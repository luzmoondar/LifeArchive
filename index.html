<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÏÇ∂Í∏∞Î°ùÏÜå</title>
    <!-- Î≥¥Ïïà Í∞ïÌôîÎ•º ÏúÑÌïú CSP ÏÑ§Ï†ï -->
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; script-src 'self' https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data:; connect-src 'self' https://*.supabase.co https://cdn.jsdelivr.net;">
    <link rel="stylesheet" href="style.css?v=20260225_1">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Outfit:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#6366f1">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üè†</text></svg>">
</head>

<body>
    <div class="app-container">
        <!-- New Header Area -->
        <div class="app-title-bar">
            <h1>
                <svg id="_Î†àÏù¥Ïñ¥_1" data-name="Î†àÏù¥Ïñ¥_1" xmlns="http://www.w3.org/2000/svg" version="1.1"
                    viewBox="0 0 283.5 283.5">
                    <defs>
                        <style>
                            .st0 {
                                fill: #fff;
                            }

                            .st1 {
                                fill: #6366f1;
                            }
                        </style>
                    </defs>
                    <circle class="st0" cx="141.3" cy="141.5" r="127.5" />
                    <path class="st1"
                        d="M212.1,149.9l-22.8,11.2-29.8-29.8,11.2-22.8-17.4-17.4-38.4,86.5-31.1-31.1,62.4-62.4-15.8-15.8-77.3,77.3,52.6,52.6,8.3,8.3,8.3,8.3,107-47.5-17.4-17.4ZM131.8,189.2l-.4-.4,18.4-37.7,19.7,19.7-37.7,18.4Z" />
                </svg>
                LifeArchive
            </h1>
            <div class="title-bar-actions">
                <div id="sync-status-indicator" class="sync-status offline"><span></span> ÎåÄÍ∏∞ Ï§ë</div>
                <button onclick="manualSync()" class="sync-manual-btn">ÎèôÍ∏∞Ìôî</button>
                <button id="btn-reset-all" class="reset-btn" style="display: none;">Îç∞Ïù¥ÌÑ∞ Ï¥àÍ∏∞Ìôî</button>
                <button id="btn-logout" class="logout-btn" style="display: none;">Î°úÍ∑∏ÏïÑÏõÉ</button>
                <button id="btn-delete-account" class="delete-btn">ÌöåÏõêÌÉàÌá¥</button>
            </div>
        </div>

        <div class="app-body">
            <header class="main-header">
                <nav class="tab-nav">
                    <button class="tab-btn active" data-tab="stats">ÏûêÏÇ∞ ÌòÑÌô©</button>
                    <button class="tab-btn" data-tab="account">Í∞ÄÍ≥ÑÎ∂Ä</button>
                    <button class="tab-btn" data-tab="monthly">ÏÉùÌôúÎ®ºÏä¨Î¶¨</button>
                    <button class="tab-btn" data-tab="wedding">Í≤∞ÌòºÏãù</button>
                </nav>
            </header>

            <main class="content-area">



                <section id="stats" class="tab-content active">
                    <div class="stats-layout">
                        <div class="main-stats-area">
                            <div class="summary-grid">
                                <div class="summary-card income">
                                    <h3>Ï¥ùÏàòÏûÖ</h3>
                                    <p class="amount" id="total-income">0Ïõê</p>
                                </div>
                                <div class="summary-card expense">
                                    <h3>Ï¥ùÏßÄÏ∂ú</h3>
                                    <p class="amount" id="total-expense">0Ïõê</p>
                                </div>
                                <div class="summary-card savings">
                                    <h3>Ï¥ùÏ†ÄÏ∂ï</h3>
                                    <p class="amount" id="total-savings">0Ïõê</p>
                                </div>
                            </div>
                            <div class="charts-container">
                                <div class="chart-box">
                                    <h4>Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ ÏÜåÎπÑ %</h4>
                                    <div class="chart-wrapper">
                                        <canvas id="expense-chart"></canvas>
                                    </div>
                                </div>
                                <div class="chart-box">
                                    <h4>Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ Ï†ÄÏ∂ï %</h4>
                                    <div class="chart-wrapper">
                                        <canvas id="savings-chart"></canvas>
                                    </div>
                                </div>
                            </div>

                            <!-- Ïó∞Í∞Ñ/ÏõîÎ≥Ñ ÏÜåÎπÑ Ï∂îÏù¥ Ï∞®Ìä∏ Ï∂îÍ∞Ä -->
                            <div class="chart-box" style="width: 100%; margin-top: 1.5rem;">
                                <h4>Ïò¨Ìï¥ ÏõîÎ≥Ñ ÏÜåÎπÑ Ï∂îÏù¥</h4>
                                <div class="chart-wrapper" style="height: 250px;">
                                    <canvas id="monthly-trend-chart"></canvas>
                                </div>
                            </div>

                            <!-- Asset & Savings Maturity Section -->
                            <div class="section-card mt-4" id="asset-management-section">
                                <div class="section-header">
                                    <div style="display: flex; align-items: center; gap: 12px;">
                                        <h4 style="margin:0;">üè¶ ÏûêÏÇ∞ ÌòÑÌô©</h4>
                                        <div class="total-asset-badge">
                                            Ï¥ù Î≥¥Ïú†ÏûêÏÇ∞: <span id="total-asset-stats-new">0Ïõê</span>
                                        </div>
                                    </div>
                                    <button class="add-btn" id="btn-add-savings" title="Ï†ÅÍ∏à/ÏòàÍ∏à Ï∂îÍ∞Ä">+</button>
                                </div>
                                <div id="savings-list" class="savings-grid">
                                    <!-- Savings items with gauge bars will be injected here -->
                                </div>
                            </div>
                        </div>
                        <!-- Ïö∞Ï∏° Îπà Í≥µÍ∞ÑÏùÑ Ïú†ÏßÄÌïòÏó¨ Îã§Î•∏ ÌÉ≠Í≥º Í∞ÄÎ°ú ÎÑàÎπÑÎ•º ÎßûÏ∂•ÎãàÎã§ -->
                        <div class="details-side"></div>
                    </div>
                </section>

                <!-- Account Book Tab -->
                <section id="account" class="tab-content">
                    <div class="account-header-area">
                        <!-- 1. Central Summary Section -->
                        <div class="account-main-summary">
                            <div class="acc-summary-item item-income clickable" id="acc-income-card">
                                <span class="label">Ïù¥Î≤à Îã¨ Ï¥ù ÏàòÏûÖ</span>
                                <div class="value"><span class="summary-icon">üí∞</span> <span
                                        id="acc-monthly-income">0Ïõê</span></div>
                            </div>
                            <div class="acc-summary-divider"></div>
                            <div class="acc-summary-item item-expense">
                                <span class="label">Ïù¥Î≤à Îã¨ Ï¥ù ÏÜåÎπÑ</span>
                                <div class="value"><span class="summary-icon">üí∞</span> <span
                                        id="acc-monthly-expense">0Ïõê</span></div>
                            </div>
                            <div class="acc-summary-divider"></div>
                            <div class="acc-summary-item item-savings">
                                <span class="label">Ïù¥Î≤à Îã¨ Ï¥ù Ï†ÄÏ∂ï</span>
                                <div class="value"><span class="summary-icon">üí∞</span> <span
                                        id="acc-monthly-savings">0Ïõê</span></div>
                            </div>
                            <div class="acc-summary-divider"></div>
                            <div class="acc-summary-item item-balance">
                                <span class="label">Ïù¥Î≤à Îã¨ Ï¥ù ÏûîÏï°</span>
                                <div class="value"><span class="summary-icon">üí∞</span> <span
                                        id="acc-monthly-balance">0Ïõê</span></div>
                            </div>
                        </div>

                        <!-- 2. Period Settings & Info -->
                        <div class="account-control-panel">
                            <div class="period-setting">
                                üìÜ Ìïú Îã¨ Í∏∞Ï§Ä : Îß§Ïõî
                                <input type="number" id="setting-salary-day" value="1" min="1" max="28">
                                Ïùº ÏãúÏûë
                            </div>
                            <div id="salary-range-info" class="period-display">
                                üìä ÏßëÍ≥ÑÍ∏∞Í∞Ñ : 2026-01-25 ~ 2026-02-24
                            </div>
                        </div>
                    </div>

                    <!-- 3. Calendar Area -->
                    <div class="account-calendar-box card mt-4">
                        <div id="account-calendar" class="calendar"></div>
                    </div>

                    <!-- 4. Category Sections -->
                    <div class="account-category-layout mt-4">
                        <div class="section-card category-group card">
                            <div class="section-header">
                                <h4>ÏÜåÎπÑ Ïπ¥ÌÖåÍ≥†Î¶¨ <button class="add-mini-btn" id="add-expense-cat">+</button></h4>
                            </div>
                            <div id="expense-category-grid" class="category-grid thin-grid"></div>
                        </div>

                        <div class="section-card category-group card">
                            <div class="section-header">
                                <h4>Ï†ÄÏ∂ï Ïπ¥ÌÖåÍ≥†Î¶¨ <button class="add-mini-btn" id="add-savings-cat">+</button></h4>
                            </div>
                            <div id="savings-category-grid" class="category-grid thin-grid"></div>
                        </div>
                    </div>
                </section>

                <!-- Life Monthly Tab -->
                <section id="monthly" class="tab-content">
                    <div class="monthly-layout">
                        <div class="calendar-side">
                            <div id="life-calendar" class="calendar"></div>
                        </div>
                        <div class="details-side">
                            <div class="section-card">
                                <div class="section-header">
                                    <h4>Ïù¥Î≤àÎã¨ Ïù¥Ïäà</h4>
                                </div>
                                <div class="todo-input">
                                    <div style="display:flex; align-items:center; gap:4px; flex:none;">
                                        <input type="number" id="new-issue-day" placeholder="ÏãúÏûë" min="1" max="31"
                                            style="width: 50px;">
                                        <span style="color:var(--text-light); font-weight:bold;">~</span>
                                        <input type="number" id="new-issue-end-day" placeholder="Ï¢ÖÎ£å" min="1" max="31"
                                            style="width: 50px;">
                                    </div>
                                    <input type="text" id="new-issue" placeholder="ÏùºÏ†ï ÏûÖÎ†•...">
                                    <button id="add-issue">Ï∂îÍ∞Ä</button>
                                </div>
                                <ul id="issue-list" class="todo-list"></ul>
                            </div>
                        </div>
                    </div>

                    <div class="section-card mt-4">
                        <div class="section-header">
                            <h4>Í∏∞Î°ù Ï∂îÍ∞Ä</h4>
                        </div>
                        <div class="form-group-row">
                            <input type="number" id="life-day" placeholder="Ïùº" min="1" max="31">
                            <input type="text" id="life-item" placeholder="ÎÇ¥Ïö©">
                            <input type="number" id="life-qty" placeholder="ÏàòÎüâ">
                            <input type="number" id="life-amount" placeholder="Í∏àÏï°">
                            <button id="add-life-log">Í∏∞Î°ù</button>
                        </div>
                    </div>

                    <div class="section-card mt-4">
                        <div class="section-header">
                            <h4>Î≥¥Ïú†Î™©Î°ù</h4>
                        </div>
                        <div class="table-responsive">
                            <table class="stock-table">
                                <thead>
                                    <tr>
                                        <th>ÎÇ†Ïßú</th>
                                        <th>ÎÇ¥Ïö©</th>
                                        <th>ÏàòÎüâ</th>
                                        <th>Í∏àÏï°</th>
                                        <th>Í¥ÄÎ¶¨</th>
                                    </tr>
                                </thead>
                                <tbody id="stock-list-body">
                                    <!-- Í∏∞Î°ùÎì§Ïù¥ Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§ -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- Wedding Tab (Image Style) -->
                <section id="wedding" class="tab-content">
                    <div class="detail-card">
                        <div class="wedding-top-nav">
                            <div class="wedding-summary"
                                style="display: flex; gap: 2.5rem; align-items: center; font-size: 0.95rem;">
                                <span style="font-weight: 700; color: #1e293b; margin-right: 0.5rem;">üíç Í≤∞ÌòºÏãù Ï†ïÏÇ∞
                                    ÏöîÏïΩ</span>
                                <div style="width: 1px; height: 16px; background: #e2e8f0;"></div>
                                <span>ÎπÑÏö© ÏßÄÏ∂ú Ìï©Í≥Ñ: <strong id="wedding-expense-total-top"
                                        style="color: var(--danger);">0Ïõê</strong></span>
                                <span>Ï∂ïÏùò Î∞õÏùÄÍ∏àÏï° Ìï©Í≥Ñ: <strong id="wedding-received-total"
                                        style="color: var(--primary);">0Ïõê</strong></span>
                            </div>
                        </div>

                        <div class="wedding-layout-grid">
                            <!-- Left: Wedding Expenses Card -->
                            <div class="section-card">
                                <div class="section-header">
                                    <h4 style="margin:0; font-size: 1.1rem; font-weight: 700; color: #1e293b;">Í≤∞ÌòºÏãù ÎπÑÏö©
                                        Ï¥ùÏ†ïÎ¶¨</h4>
                                    <button class="add-btn" onclick="addWeddingCostGroup()" title="ÎπÑÏö© Í∑∏Î£π Ï∂îÍ∞Ä">+</button>
                                </div>
                                <div id="wedding-costs-wrapper">
                                    <!-- JS will inject groups here as sub-sections -->
                                </div>
                            </div>

                            <!-- Right: Wedding Gifts Card -->
                            <div class="section-card">
                                <div class="section-header">
                                    <h4 style="margin:0; font-size: 1.1rem; font-weight: 700; color: #1e293b;">Ï∂ïÏùòÍ∏à ÎÇ¥Ïó≠
                                    </h4>
                                </div>
                                <div class="table-responsive">
                                    <table class="detail-table wedding-gift-table"
                                        style="border:none; box-shadow:none;">
                                        <thead>
                                            <tr>
                                                <th style="width: 40px;">NO</th>
                                                <th>Ïù¥Î¶Ñ</th>
                                                <th style="width: 120px;">Î∞õÏùÄÍ∏àÏï°</th>
                                                <th style="width: 120px;">ÎÇ∏Í∏àÏï°</th>
                                                <th style="width: 80px;">Ï∞∏ÏÑù</th>
                                                <th style="width: 45px;"></th>
                                            </tr>
                                        </thead>
                                        <tbody id="wedding-gift-table-body"></tbody>
                                        <tfoot style="background: #fdfdfd;">
                                            <tr>
                                                <td colspan="2" class="total-label"
                                                    style="background:transparent; border:none;">Ìï©Í≥Ñ</td>
                                                <td class="total-amount" id="wedding-gifts-received-footer"
                                                    style="background:transparent; border:none; text-align:left; padding-left:0.6rem;">
                                                    0Ïõê</td>
                                                <td class="total-amount" id="wedding-gifts-paid-footer"
                                                    style="background:transparent; border:none; text-align:left; padding-left:0.6rem;">
                                                    0Ïõê</td>
                                                <td colspan="2" style="background:transparent; border:none;"></td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>
                                <div
                                    style="padding: 0.5rem 0 1rem 0; border-bottom: 1px dashed #eef2f6; margin-bottom: 1.5rem;">
                                    <button class="add-row-mini-btn" onclick="addWeddingGiftRow()"
                                        style="width: 100%; font-size: 0.85rem; background:none; border:none; color:var(--primary); font-weight:700; cursor:pointer;">+
                                        Ï∂ïÏùòÍ∏à ÎÇ¥Ïó≠ Ï∂îÍ∞Ä</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div><!-- End app-body -->


    </div>

    <!-- Data Entry Modal -->
    <div id="entry-modal" class="modal-backdrop">
        <div class="modal-content card">
            <div class="modal-header">
                <div style="display: flex; align-items: center; gap: 10px;">
                    <h4 id="modal-title">ÎÇ¥Ïó≠ Ï∂îÍ∞Ä</h4>
                    <button id="btn-rename-cat" class="action-icon-btn" title="Ïπ¥ÌÖåÍ≥†Î¶¨Î™Ö Î≥ÄÍ≤Ω"
                        style="display: none;">‚úèÔ∏è</button>
                </div>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>ÎÇ†Ïßú</label>
                    <input type="date" id="modal-date">
                </div>
                <div class="form-group">
                    <label>ÎÇ¥Ïö©</label>
                    <input type="text" id="modal-name" placeholder="ÎÇ¥Ïö©ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî">
                </div>
                <div class="form-group" id="modal-tag-group">
                    <label>ÌÉúÍ∑∏</label>
                    <div id="modal-tag-chips" class="tag-chips">
                        <div class="tag-chip" data-value="ÏÉùÌïÑÌíà">ÏÉùÌïÑÌíà</div>
                        <div class="tag-chip active" data-value="ÏáºÌïë">ÏáºÌïë</div>
                        <div class="tag-chip" data-value="Ïô∏Ïãù">Ïô∏Ïãù</div>
                        <div class="tag-chip" data-value="Ïû•Î≥¥Í∏∞">Ïû•Î≥¥Í∏∞</div>
                        <div class="tag-chip" data-value="Ï£ºÍ±∞">Ï£ºÍ±∞</div>
                        <div class="tag-chip" data-value="Ïó¨Ìñâ">Ïó¨Ìñâ</div>
                        <div class="tag-chip" data-value="Í±¥Í∞ï">Í±¥Í∞ï</div>
                        <div class="tag-chip" data-value="Î¨∏Ìôî">Î¨∏Ìôî</div>
                        <div class="tag-chip" data-value="ÌÜµÏã†/Íµ¨ÎèÖ">ÌÜµÏã†/Íµ¨ÎèÖ</div>
                        <div class="tag-chip" data-value="Í∏∞ÌÉÄ">Í∏∞ÌÉÄ</div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Í∏àÏï°</label>
                    <input type="number" id="modal-amount" placeholder="Í∏àÏï°ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî">
                </div>
            </div>
            <div class="modal-footer">
                <button id="save-entry" class="primary-btn">Ï†ÄÏû•ÌïòÍ∏∞</button>
            </div>
        </div>
    </div>

    <!-- Auth Overlay -->
    <div id="auth-overlay" class="modal-backdrop active">
        <div class="modal-content card" style="max-width: 400px; text-align: center;">
            <h2 id="auth-title" style="margin-bottom: 20px;">ÏÇ∂Í∏∞Î°ùÏÜå ÏãúÏûëÌïòÍ∏∞</h2>
            <div class="modal-body">
                <div class="form-group" style="text-align: left;">
                    <label>Ïù¥Î©îÏùº</label>
                    <input type="email" id="auth-email" placeholder="example@email.com">
                </div>
                <div class="form-group" style="text-align: left; margin-bottom: 20px;">
                    <label>ÎπÑÎ∞ÄÎ≤àÌò∏</label>
                    <input type="password" id="auth-password" placeholder="6ÏûêÎ¶¨ Ïù¥ÏÉÅ ÏûÖÎ†•">
                </div>
                <div class="auth-buttons" style="display: flex; gap: 10px;">
                    <button id="btn-login" class="primary-btn" style="flex:1">Î°úÍ∑∏Ïù∏</button>
                    <button id="btn-signup" class="secondary-btn" style="flex:1">ÌöåÏõêÍ∞ÄÏûÖ</button>
                </div>
            </div>
            <p id="auth-msg" style="margin-top: 15px; font-size: 0.85rem; color: var(--text-light);"></p>
        </div>
    </div>

    <!-- Category Detail Modal -->
    <div id="category-detail-modal" class="modal-backdrop">
        <div class="modal-content card modal-wide">
            <div class="modal-header">
                <div style="display: flex; align-items: center; gap: 10px;">
                    <h4 id="cat-detail-title">Ïπ¥ÌÖåÍ≥†Î¶¨ ÏÉÅÏÑ∏</h4>
                    <button id="btn-rename-detail-cat" class="action-icon-btn" title="Ïπ¥ÌÖåÍ≥†Î¶¨Î™Ö Î≥ÄÍ≤Ω">‚úèÔ∏è</button>
                </div>
                <button class="close-modal" id="close-cat-detail">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Quick Entry Section (For Savings/Income) -->
                <div id="detail-quick-entry-section" class="section-card mb-4"
                    style="display: none; background: #f8fafc; border: 1px solid #e2e8f0; padding: 1.2rem;">
                    <div style="display: flex; flex-direction: column; gap: 10px;">
                        <div style="display: flex; gap: 10px;">
                            <input type="date" id="quick-add-date" style="flex: 1;">
                            <input type="text" id="quick-add-name" placeholder="ÎÇ¥Ïö© (Ïòà: Ï†ïÍ∏∞Ï†ÅÍ∏à ÎÇ©ÏûÖ)" style="flex: 2;">
                        </div>
                        <div style="display: flex; gap: 10px;">
                            <input type="number" id="quick-add-amount" placeholder="Í∏àÏï°" style="flex: 1;">
                            <button id="btn-quick-add-save" class="primary-btn"
                                style="flex: none; width: 100px;">Í∏∞Î°ù</button>
                        </div>
                    </div>
                </div>

                <!-- Budget Setting Section -->
                <div id="detail-budget-section" class="detail-budget-section mb-4">
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">ÏõîÍ∞Ñ ÏòàÏÇ∞ ÏÑ§Ï†ï</label>
                    <div style="display: flex; gap: 10px;">
                        <input type="number" id="cat-budget-input" placeholder="ÏòàÏÇ∞ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî">
                        <button id="save-cat-budget" class="secondary-btn" style="white-space:nowrap;">Ï†ÄÏû•</button>
                    </div>
                </div>

                <!-- Search, Delete, Sort Controls -->
                <div class="detail-controls mb-4">
                    <div class="search-box">
                        <input type="text" id="cat-search-input" placeholder="ÎÇ¥Ïö© Í≤ÄÏÉâ...">
                    </div>
                    <button id="btn-delete-selected" class="delete-selected-btn">ÏÑ†ÌÉùÏÇ≠Ï†ú</button>
                    <div class="sort-buttons">
                        <button id="btn-sort-newest" class="sort-btn active">ÏµúÏã†Ïàú ‚¨áÔ∏è</button>
                    </div>
                </div>

                <!-- Transaction List Table -->
                <div class="detail-list-wrapper">
                    <table class="detail-history-table">
                        <thead>
                            <tr>
                                <th style="width: 30px;"><input type="checkbox" id="check-all-trans"></th>
                                <th style="width: 80px;">ÎÇ†Ïßú</th>
                                <th>ÌÉúÍ∑∏/ÎÇ¥Ïö©</th>
                                <th style="width: 100px; text-align: right;">Í∏àÏï°</th>
                                <th style="width: 110px; text-align: center;">Í¥ÄÎ¶¨</th>
                            </tr>
                        </thead>
                        <tbody id="cat-trans-list">
                            <!-- Injected by JS -->
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button id="btn-add-detail-entry" class="primary-btn">ÎÇ¥Ïó≠ Ï∂îÍ∞ÄÌïòÍ∏∞</button>
            </div>
        </div>
    </div>

    <!-- Account Day Details Modal -->
    <div id="acc-day-modal" class="modal-backdrop">
        <div class="modal-content card modal-wide">
            <div class="modal-header">
                <h4 id="acc-day-title">ÎÇ†ÏßúÎ≥Ñ ÏÉÅÏÑ∏ ÎÇ¥Ïó≠</h4>
                <button class="close-modal" id="close-acc-day-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-section">
                    <h5 class="section-title">üí∞ ÏÉÅÏÑ∏ ÎÇ¥Ïó≠</h5>
                    <div id="acc-day-list" class="detailed-entry-list"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Life Day Details Modal -->
    <div id="life-day-modal" class="modal-backdrop">
        <div class="modal-content card">
            <div class="modal-header">
                <h4 id="life-day-title">ÎÇ†ÏßúÎ≥Ñ ÏÉÅÏÑ∏ ÎÇ¥Ïö©</h4>
                <button class="close-modal"
                    onclick="document.getElementById('life-day-modal').classList.remove('active')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-section">
                    <h5 class="section-title">üìå Ïù¥Î≤àÎã¨ Ïù¥Ïäà</h5>
                    <div id="life-day-issue-list" class="detailed-entry-list"></div>
                </div>
                <div class="modal-section mt-4">
                    <h5 class="section-title">üìù ÏÉùÌôú Í∏∞Î°ù</h5>
                    <div id="life-day-log-list" class="detailed-entry-list"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Savings Item Modal -->
    <div id="savings-modal" class="modal-backdrop">
        <div class="modal-content card">
            <div class="modal-header">
                <h4>Ï†ÅÍ∏à/ÏòàÍ∏à Í∏∞Î°ù</h4>
                <button class="close-modal" id="close-savings-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>ÏÉÅÌíà Íµ¨Î∂Ñ</label>
                    <select id="savings-type">
                        <option value="Ï†ÅÍ∏à">Ï†ÅÍ∏à</option>
                        <option value="ÏòàÍ∏à">ÏòàÍ∏à</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>ÏÉÅÌíàÎ™Ö</label>
                    <input type="text" id="savings-name" placeholder="Ïòà: Ï≤≠ÎÖÑÌù¨ÎßùÏ†ÅÍ∏à">
                </div>
                <div class="form-group" id="savings-target-group">
                    <label id="savings-target-label">Î™©Ìëú Í∏àÏï°</label>
                    <input type="number" id="savings-target-amount" placeholder="0">
                </div>
                <div class="form-group" id="savings-monthly-group">
                    <label>Ïõî ÎÇ©ÏûÖÏï°</label>
                    <input type="number" id="savings-monthly-amount" placeholder="0">
                </div>
                <div class="form-group" id="savings-interest-group">
                    <label>Ïù¥ÏûêÏú® (%)</label>
                    <input type="number" step="0.1" id="savings-interest" placeholder="0.0">
                </div>
                <div class="form-group">
                    <label>ÏãúÏûëÏùº</label>
                    <input type="date" id="savings-start-date">
                </div>
                <div class="form-group">
                    <label>ÎßåÍ∏∞Ïùº</label>
                    <input type="date" id="savings-end-date">
                </div>
            </div>
            <div class="modal-footer">
                <button id="save-savings-item" class="primary-btn">Ï†ÄÏû•ÌïòÍ∏∞</button>
            </div>
        </div>
    </div>

    <!-- Total Asset Detail Modal -->
    <div id="total-asset-modal" class="modal-backdrop">
        <div class="modal-content card" style="max-width: 600px;">
            <div class="modal-header">
                <h4>üí∞ ÏûêÏÇ∞ Î≥¥Ïú† ÌòÑÌô© ÏÉÅÏÑ∏</h4>
                <button class="close-modal" id="close-total-asset-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="table-responsive">
                    <table class="detail-table">
                        <thead>
                            <tr>
                                <th style="width: 100px;">Íµ¨Î∂Ñ</th>
                                <th>ÏÉÅÌíàÎ™Ö</th>
                                <th style="text-align: right; width: 120px;">Î≥¥Ïú†Ïï°</th>
                                <th style="text-align: center; width: 80px;">Í¥ÄÎ¶¨</th>
                            </tr>
                        </thead>
                        <tbody id="total-asset-detail-body">
                            <!-- JS injections -->
                        </tbody>
                        <tfoot>
                            <tr style="background: #f8fafc; font-weight: 700;">
                                <td colspan="2" style="text-align: center;">Ìï©Í≥Ñ</td>
                                <td id="total-asset-sum-modal" style="text-align: right; color: var(--primary);">0Ïõê</td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Supabase SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <script src="main.js?v=20260225_5"></script>
</body>

</html>